#include "navswitch.h"
#include <stdbool.h>

static bool pressed_left = false;
static bool pressed_right = false;

void update_movement (uint16_t* player_position) {


    navswitch_update();
    if (navswitch_push_event_p (NAVSWITCH_NORTH)) { //push right
        pressed_left = true;

    } else if (navswitch_push_event_p (NAVSWITCH_SOUTH)) {
        pressed_right = true;
    } else if (navswitch_release_event_p (NAVSWITCH_NORTH)) { //push right
        pressed_left = false;
    } else if (navswitch_release_event_p (NAVSWITCH_SOUTH)) {
        pressed_right = false;
    }

    if (pressed_right) {
        player_position[1] = player_position[1] - 1;
    } else if (pressed_left) {
        player_position[1] = player_position[1] + 1;
    }
}
